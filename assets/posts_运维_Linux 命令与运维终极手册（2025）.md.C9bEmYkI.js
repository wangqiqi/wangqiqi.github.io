import{_ as d,c as s,o as a,a2 as e}from"./chunks/framework.BHFiY1p-.js";const k=JSON.parse('{"title":"Linux 命令与运维终极手册（2025 完整版）","description":"","frontmatter":{"layout":"doc","lastUpdated":true,"sidebar":true,"title":"Linux 命令与运维终极手册（2025 完整版）","categories":["运维"],"tags":["Linux","命令行","运维","系统管理"]},"headers":[],"relativePath":"posts/运维/Linux 命令与运维终极手册（2025）.md","filePath":"posts/运维/Linux 命令与运维终极手册（2025）.md","lastUpdated":1760323099000}'),i={name:"posts/运维/Linux 命令与运维终极手册（2025）.md"};function r(o,t,h,n,l,c){return a(),s("div",null,[...t[0]||(t[0]=[e(`<h1 id="🐧-linux-命令与运维终极手册-2025-完整版" tabindex="-1">🐧 Linux 命令与运维终极手册（2025 完整版） <a class="header-anchor" href="#🐧-linux-命令与运维终极手册-2025-完整版" aria-label="Permalink to &quot;🐧 Linux 命令与运维终极手册（2025 完整版）&quot;">​</a></h1><blockquote><p>✅ 覆盖文件操作、系统监控、网络、服务管理、定时任务、自定义服务等 ✅ 所有命令均经验证，可直接复制使用 ✅ 适用于 Ubuntu / CentOS / Debian 等主流发行版</p></blockquote><hr><h2 id="一、📁-文件与目录操作" tabindex="-1">一、📁 文件与目录操作 <a class="header-anchor" href="#一、📁-文件与目录操作" aria-label="Permalink to &quot;一、📁 文件与目录操作&quot;">​</a></h2><table tabindex="0"><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td><code>ls</code></td><td>列出当前目录下的文件和目录</td></tr><tr><td><code>ls -a</code></td><td>显示包括隐藏文件（以 <code>.</code> 开头）在内的所有内容</td></tr><tr><td><code>ls -l</code></td><td>以详细格式列出文件（权限、所有者、大小、时间等）</td></tr><tr><td><code>ls -la</code></td><td>详细格式 + 显示隐藏文件</td></tr><tr><td><code>ls -lt</code></td><td>按修改时间排序（最新在前）</td></tr><tr><td><code>ls -ltr</code></td><td>按修改时间逆序（最新在后）</td></tr><tr><td><code>ls -lS</code></td><td>按文件大小降序排列</td></tr><tr><td><code>ls -lX</code></td><td>按文件扩展名/类型排序</td></tr><tr><td><code>pwd</code></td><td>显示当前工作目录的完整路径</td></tr><tr><td><code>cd 目录名</code></td><td>进入指定目录</td></tr><tr><td><code>cd ..</code></td><td>返回上一级目录</td></tr><tr><td><code>cd ../..</code></td><td>返回上两级目录</td></tr><tr><td><code>mkdir 目录名</code></td><td>创建一个新目录</td></tr><tr><td><code>mkdir -p a/b/c</code></td><td>递归创建多级目录（若父目录不存在则自动创建）</td></tr><tr><td><code>rmdir 目录名</code></td><td>删除<strong>空</strong>目录</td></tr><tr><td><code>rm 文件名</code></td><td>删除文件</td></tr><tr><td><code>rm -r 目录名</code></td><td>递归删除非空目录及其内容（⚠️谨慎使用）</td></tr><tr><td><code>rm -f 文件名</code></td><td>强制删除（不提示确认）</td></tr><tr><td><code>cp 源文件 目标文件</code></td><td>复制文件</td></tr><tr><td><code>cp -r 源目录 目标目录</code></td><td>递归复制整个目录</td></tr><tr><td><code>mv 旧名称 新名称</code></td><td>重命名文件或目录</td></tr><tr><td><code>mv 源文件 目标路径</code></td><td>移动文件或目录</td></tr><tr><td><code>find /path -name &quot;文件名&quot;</code></td><td>在指定路径下按名称查找文件（支持通配符如 <code>*.log</code>）</td></tr></tbody></table><hr><h2 id="二、📄-文件内容查看与文本处理" tabindex="-1">二、📄 文件内容查看与文本处理 <a class="header-anchor" href="#二、📄-文件内容查看与文本处理" aria-label="Permalink to &quot;二、📄 文件内容查看与文本处理&quot;">​</a></h2><table tabindex="0"><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td><code>cat 文件名</code></td><td>显示文件全部内容（适合小文件）</td></tr><tr><td><code>less 文件名</code></td><td>分页查看文件（按 <code>q</code> 退出，<code>/关键词</code> 搜索）</td></tr><tr><td><code>more 文件名</code></td><td>简单分页查看（仅支持向下翻页）</td></tr><tr><td><code>head 文件名</code></td><td>显示文件前 10 行</td></tr><tr><td><code>head -n N 文件名</code></td><td>显示文件前 N 行</td></tr><tr><td><code>tail 文件名</code></td><td>显示文件后 10 行</td></tr><tr><td><code>tail -n N 文件名</code></td><td>显示文件后 N 行</td></tr><tr><td><code>tail -f 文件名</code></td><td>实时跟踪文件末尾内容（常用于日志监控，按 <code>Ctrl+C</code> 退出）</td></tr><tr><td><code>grep &quot;关键词&quot; 文件名</code></td><td>在文件中搜索包含关键词的行</td></tr><tr><td><code>grep -n &quot;关键词&quot; 文件名</code></td><td>搜索并显示行号</td></tr><tr><td><code>grep -r &quot;关键词&quot; /路径/</code></td><td>递归搜索目录下所有文件</td></tr><tr><td><code>grep -i &quot;关键词&quot; 文件名</code></td><td>忽略大小写搜索</td></tr><tr><td><code>sed &#39;s/旧文本/新文本/g&#39; 文件名</code></td><td>替换文本（不修改原文件，仅输出结果）</td></tr><tr><td><code>awk &#39;{print $1}&#39; 文件名</code></td><td>提取每行的第一列（默认以空格分隔）</td></tr><tr><td><code>wc -l 文件名</code></td><td>统计文件行数</td></tr></tbody></table><hr><h2 id="三、🖥️-系统信息查看" tabindex="-1">三、🖥️ 系统信息查看 <a class="header-anchor" href="#三、🖥️-系统信息查看" aria-label="Permalink to &quot;三、🖥️ 系统信息查看&quot;">​</a></h2><table tabindex="0"><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td><code>whoami</code></td><td>显示当前登录用户名</td></tr><tr><td><code>date</code></td><td>显示当前系统日期和时间</td></tr><tr><td><code>date &quot;+%Y-%m-%d %H:%M:%S&quot;</code></td><td>自定义时间格式输出（常用于脚本）</td></tr><tr><td><code>date -Iseconds</code></td><td>输出 ISO 8601 格式时间（如 <code>2025-10-13T09:00:00+08:00</code>）</td></tr><tr><td><code>date -R</code></td><td>输出 RFC 2822 格式时间（用于邮件、HTTP 头）</td></tr><tr><td><code>uname -a</code></td><td>显示内核版本、主机名、系统架构等完整信息</td></tr><tr><td><code>hostname</code></td><td>显示当前主机名</td></tr><tr><td><code>uptime</code></td><td>显示系统运行时间及 1/5/15 分钟负载平均值</td></tr><tr><td><code>df -h</code></td><td>以人类可读方式（KB/MB/GB）显示磁盘空间使用情况</td></tr><tr><td><code>du -h 目录名</code></td><td>显示指定目录的磁盘使用量</td></tr><tr><td><code>free -h</code></td><td>以人类可读方式显示内存和交换空间使用情况</td></tr></tbody></table><hr><h2 id="四、⚙️-进程与端口管理" tabindex="-1">四、⚙️ 进程与端口管理 <a class="header-anchor" href="#四、⚙️-进程与端口管理" aria-label="Permalink to &quot;四、⚙️ 进程与端口管理&quot;">​</a></h2><table tabindex="0"><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td><code>ps aux</code></td><td>显示所有进程的详细信息</td></tr><tr><td><code>ps aux | grep 进程名</code></td><td>查找特定进程</td></tr><tr><td><code>top</code></td><td>实时动态查看系统资源和进程（按 <code>q</code> 退出）</td></tr><tr><td><code>htop</code></td><td>更友好的交互式进程查看器（需安装：<code>sudo apt install htop</code>）</td></tr><tr><td><code>kill PID</code></td><td>终止指定进程（PID 为进程 ID）</td></tr><tr><td><code>kill -9 PID</code></td><td>强制终止进程（不可被捕获）</td></tr><tr><td><code>netstat -tuln</code></td><td>显示所有监听的 TCP/UDP 端口（传统命令）</td></tr><tr><td><code>ss -tuln</code></td><td>更快的现代替代命令（推荐）</td></tr><tr><td><code>netstat -tuln | grep :8080</code></td><td>查看 8080 端口是否被监听</td></tr><tr><td><code>lsof -i :端口号</code></td><td>查看占用指定端口的进程（如 <code>lsof -i :3306</code>）</td></tr><tr><td><code>fuser 8080/tcp</code></td><td>显示使用 8080 TCP 端口的进程 ID</td></tr><tr><td><code>sudo kill -9 $(lsof -t -i:8080)</code></td><td>一键杀死占用 8080 端口的进程</td></tr></tbody></table><hr><h2 id="五、📦-打包与解压" tabindex="-1">五、📦 打包与解压 <a class="header-anchor" href="#五、📦-打包与解压" aria-label="Permalink to &quot;五、📦 打包与解压&quot;">​</a></h2><h3 id="_5-1-tar-格式-未压缩" tabindex="-1">5.1 tar 格式（未压缩） <a class="header-anchor" href="#_5-1-tar-格式-未压缩" aria-label="Permalink to &quot;5.1 tar 格式（未压缩）&quot;">​</a></h3><table tabindex="0"><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td><code>tar -cvf archive.tar 目录/</code></td><td>打包目录为 <code>.tar</code> 文件</td></tr><tr><td><code>tar -xvf archive.tar</code></td><td>解压 <code>.tar</code> 文件</td></tr><tr><td><code>tar -xvf archive.tar -C /目标目录</code></td><td>解压到指定目录</td></tr></tbody></table><h3 id="_5-2-tar-gz-格式-gzip-压缩" tabindex="-1">5.2 tar.gz 格式（gzip 压缩） <a class="header-anchor" href="#_5-2-tar-gz-格式-gzip-压缩" aria-label="Permalink to &quot;5.2 tar.gz 格式（gzip 压缩）&quot;">​</a></h3><table tabindex="0"><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td><code>tar -czvf archive.tar.gz 目录/</code></td><td>打包并压缩为 <code>.tar.gz</code></td></tr><tr><td><code>tar -xzvf archive.tar.gz</code></td><td>解压 <code>.tar.gz</code> 文件</td></tr><tr><td><code>tar -xzvf archive.tar.gz -C /目标目录</code></td><td>解压到指定目录</td></tr></tbody></table><h3 id="_5-3-zip-格式-跨平台兼容" tabindex="-1">5.3 zip 格式（跨平台兼容） <a class="header-anchor" href="#_5-3-zip-格式-跨平台兼容" aria-label="Permalink to &quot;5.3 zip 格式（跨平台兼容）&quot;">​</a></h3><table tabindex="0"><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td><code>zip -r archive.zip 目录/</code></td><td>压缩目录为 <code>.zip</code> 文件</td></tr><tr><td><code>unzip archive.zip</code></td><td>解压 <code>.zip</code> 文件</td></tr><tr><td><code>unzip archive.zip -d /目标目录</code></td><td>解压到指定目录</td></tr></tbody></table><blockquote><p>💡 提示：<code>.tar.gz</code> 压缩率高，适合 Linux；<code>.zip</code> 兼容 Windows/macOS。</p></blockquote><hr><h2 id="六、🌐-远程操作" tabindex="-1">六、🌐 远程操作 <a class="header-anchor" href="#六、🌐-远程操作" aria-label="Permalink to &quot;六、🌐 远程操作&quot;">​</a></h2><table tabindex="0"><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td><code>ssh 用户名@服务器IP</code></td><td>远程登录服务器（如 <code>ssh user@192.168.1.100</code>）</td></tr><tr><td><code>exit</code></td><td>退出 SSH 会话</td></tr><tr><td><code>scp 本地文件 user@host:/远程路径</code></td><td>从本地复制文件到远程服务器</td></tr><tr><td><code>scp -r 本地目录 user@host:/远程路径</code></td><td>递归复制整个目录到远程</td></tr><tr><td><code>scp user@host:/远程文件 ./本地目录/</code></td><td>从远程服务器下载文件到本地</td></tr><tr><td><code>scp -r user@host:/远程目录 ./本地目录/</code></td><td>从远程下载整个目录到本地</td></tr><tr><td><code>rsync -avz 源/ user@host:/目标/</code></td><td>高效同步文件（增量传输，推荐用于备份）</td></tr></tbody></table><hr><h2 id="七、⚙️-环境变量与配置" tabindex="-1">七、⚙️ 环境变量与配置 <a class="header-anchor" href="#七、⚙️-环境变量与配置" aria-label="Permalink to &quot;七、⚙️ 环境变量与配置&quot;">​</a></h2><table tabindex="0"><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td><code>printenv</code></td><td>查看所有环境变量</td></tr><tr><td><code>echo $PATH</code></td><td>查看单个环境变量（如 PATH）</td></tr><tr><td><code>export VAR=value</code></td><td>设置临时环境变量（当前会话有效）</td></tr><tr><td><code>echo &#39;export VAR=value&#39; &gt;&gt; ~/.bashrc</code></td><td>将变量写入配置文件（永久生效）</td></tr><tr><td><code>source ~/.bashrc</code></td><td>重新加载配置文件，使变量立即生效</td></tr></tbody></table><hr><h2 id="八、🔐-权限与用户管理" tabindex="-1">八、🔐 权限与用户管理 <a class="header-anchor" href="#八、🔐-权限与用户管理" aria-label="Permalink to &quot;八、🔐 权限与用户管理&quot;">​</a></h2><table tabindex="0"><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td><code>chmod 755 文件名</code></td><td>修改文件权限（rwxr-xr-x）</td></tr><tr><td><code>chmod +x 脚本.sh</code></td><td>给文件添加可执行权限</td></tr><tr><td><code>chown user:group 文件名</code></td><td>修改文件所有者和所属组</td></tr><tr><td><code>sudo 命令</code></td><td>以超级用户权限执行命令</td></tr><tr><td><code>passwd 用户名</code></td><td>修改用户密码</td></tr></tbody></table><hr><h2 id="九、🔄-服务管理-systemd" tabindex="-1">九、🔄 服务管理（systemd） <a class="header-anchor" href="#九、🔄-服务管理-systemd" aria-label="Permalink to &quot;九、🔄 服务管理（systemd）&quot;">​</a></h2><table tabindex="0"><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td><code>sudo systemctl start 服务名</code></td><td>启动服务（如 <code>nginx</code>, <code>myapp</code>）</td></tr><tr><td><code>sudo systemctl stop 服务名</code></td><td>停止服务</td></tr><tr><td><code>sudo systemctl restart 服务名</code></td><td>重启服务</td></tr><tr><td><code>sudo systemctl reload 服务名</code></td><td>重载配置（不中断服务）</td></tr><tr><td><code>sudo systemctl status 服务名</code></td><td>查看服务运行状态与日志片段</td></tr><tr><td><code>sudo systemctl enable 服务名</code></td><td>设置开机自启</td></tr><tr><td><code>sudo systemctl disable 服务名</code></td><td>禁用开机自启</td></tr><tr><td><code>systemctl list-units --type=service --state=running</code></td><td>列出所有正在运行的服务</td></tr><tr><td><code>sudo journalctl -u 服务名</code></td><td>查看服务完整日志</td></tr><tr><td><code>sudo journalctl -f -u 服务名</code></td><td>实时跟踪服务日志</td></tr></tbody></table><h3 id="自定义服务文件模板-etc-systemd-system-myapp-service" tabindex="-1">自定义服务文件模板（<code>/etc/systemd/system/myapp.service</code>） <a class="header-anchor" href="#自定义服务文件模板-etc-systemd-system-myapp-service" aria-label="Permalink to &quot;自定义服务文件模板（\`/etc/systemd/system/myapp.service\`）&quot;">​</a></h3><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[Unit]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Description</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=My Custom Application</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">After</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=network.target</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Wants</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=network.target</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[Service]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=simple</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=myuser</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Group</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=myuser</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WorkingDirectory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=/opt/myapp</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ExecStart</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=/usr/bin/python3 /opt/myapp/app.py</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Restart</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=always</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">RestartSec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=10</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PYTHONUNBUFFERED</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[Install]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WantedBy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=multi-user.target</span></span></code></pre></div><h3 id="部署流程" tabindex="-1">部署流程： <a class="header-anchor" href="#部署流程" aria-label="Permalink to &quot;部署流程：&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/systemd/system/myapp.service</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # 编写服务文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> daemon-reload</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                  # 重载 systemd 配置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> myapp</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                    # 启动服务</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> myapp</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                   # 设置开机自启</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> myapp</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                   # 检查状态</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> journalctl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> myapp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                   # 实时查看日志</span></span></code></pre></div><blockquote><p>✅ <strong>最佳实践</strong>：</p><ul><li>使用非 root 用户运行服务</li><li><code>ExecStart</code> 必须使用绝对路径（用 <code>which python3</code> 查询）</li><li>虚拟环境路径示例：<code>ExecStart=/home/user/app/venv/bin/gunicorn app:app</code></li></ul></blockquote><hr><h2 id="十、⏰-定时任务-cron" tabindex="-1">十、⏰ 定时任务（Cron） <a class="header-anchor" href="#十、⏰-定时任务-cron" aria-label="Permalink to &quot;十、⏰ 定时任务（Cron）&quot;">​</a></h2><table tabindex="0"><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td><code>crontab -e</code></td><td>编辑当前用户的定时任务</td></tr><tr><td><code>crontab -l</code></td><td>列出当前用户的定时任务</td></tr><tr><td><code>crontab -r</code></td><td>删除当前用户的所有定时任务（⚠️谨慎！）</td></tr></tbody></table><h3 id="cron-表达式格式-5-个时间字段" tabindex="-1">Cron 表达式格式（5 个时间字段）： <a class="header-anchor" href="#cron-表达式格式-5-个时间字段" aria-label="Permalink to &quot;Cron 表达式格式（5 个时间字段）：&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># 分 时 日 月 周  命令</span></span>
<span class="line"><span># *  *  *  *  *  /path/to/command</span></span></code></pre></div><h3 id="常见示例" tabindex="-1">常见示例： <a class="header-anchor" href="#常见示例" aria-label="Permalink to &quot;常见示例：&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 每天凌晨 2 点备份数据库</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/bin/mysqldump</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -pMyPass</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /backup/db_</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">date</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\%</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">F</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.sql</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 每 5 分钟检查 Nginx 是否运行</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/5 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> systemctl is-active nginx </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nginx</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 每周一上午 9 点清理 7 天前的日志</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 9</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> find</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/log</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;*.log&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -mtime</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +7</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -delete</span></span></code></pre></div><blockquote><p>⚠️ 注意：在 <code>crontab</code> 中 <code>%</code> 需转义为 <code>\\%</code>，否则会被视为换行符。</p></blockquote><h3 id="系统级定时任务目录-无需-crontab-e" tabindex="-1">系统级定时任务目录（无需 <code>crontab -e</code>） <a class="header-anchor" href="#系统级定时任务目录-无需-crontab-e" aria-label="Permalink to &quot;系统级定时任务目录（无需 \`crontab -e\`）&quot;">​</a></h3><table tabindex="0"><thead><tr><th>目录</th><th>执行频率</th></tr></thead><tbody><tr><td><code>/etc/cron.hourly/</code></td><td>每小时执行一次</td></tr><tr><td><code>/etc/cron.daily/</code></td><td>每天执行一次</td></tr><tr><td><code>/etc/cron.weekly/</code></td><td>每周执行一次</td></tr><tr><td><code>/etc/cron.monthly/</code></td><td>每月执行一次</td></tr></tbody></table><blockquote><p>脚本需有执行权限：<code>chmod +x /etc/cron.daily/mybackup</code></p></blockquote><hr><p>✅ <strong>使用建议</strong>：</p><ul><li>新手优先掌握：<code>ls</code>, <code>cd</code>, <code>grep</code>, <code>ps</code>, <code>systemctl</code>, <code>crontab</code>, <code>scp</code>, <code>tar</code></li><li>所有命令均可直接复制到终端运行（替换示例中的文件名/路径即可）</li></ul>`,54)])])}const y=d(i,[["render",r]]);export{k as __pageData,y as default};
