import{_ as i,c as a,o as n,a5 as l}from"./chunks/framework.BB9qmTK0.js";const c=JSON.parse('{"title":"Ubuntu ä¸‹é€šè¿‡ deb å®‰è£… TensorRT 8.6.1 çš„å®Œæ•´æŒ‡å—ï¼ˆå«é—®é¢˜æ’æŸ¥ä¸éªŒè¯ï¼‰","description":"","frontmatter":{"layout":"doc","title":"Ubuntu ä¸‹é€šè¿‡ deb å®‰è£… TensorRT 8.6.1 çš„å®Œæ•´æŒ‡å—ï¼ˆå«é—®é¢˜æ’æŸ¥ä¸éªŒè¯ï¼‰","tags":["TensorRT","CUDA","cuDNN","Linux","DeepLearning","Inference"],"categories":["æŠ€æœ¯å·¥å…·"],"lastUpdated":true,"sidebar":true},"headers":[],"relativePath":"posts/Ubuntu/Ubuntu ä¸‹é€šè¿‡ deb å®‰è£… TensorRT 8.6.1 çš„å®Œæ•´æŒ‡å—.md","filePath":"posts/Ubuntu/Ubuntu ä¸‹é€šè¿‡ deb å®‰è£… TensorRT 8.6.1 çš„å®Œæ•´æŒ‡å—.md","lastUpdated":1760322573000}'),t={name:"posts/Ubuntu/Ubuntu ä¸‹é€šè¿‡ deb å®‰è£… TensorRT 8.6.1 çš„å®Œæ•´æŒ‡å—.md"};function e(h,s,k,p,r,d){return n(),a("div",null,[...s[0]||(s[0]=[l(`<h1 id="ğŸ§ -ubuntu-ä¸‹é€šè¿‡-deb-å®‰è£…-tensorrt-8-6-1-çš„å®Œæ•´æŒ‡å—-å«é—®é¢˜æ’æŸ¥ä¸éªŒè¯" tabindex="-1">ğŸ§  Ubuntu ä¸‹é€šè¿‡ deb å®‰è£… TensorRT 8.6.1 çš„å®Œæ•´æŒ‡å—ï¼ˆå«é—®é¢˜æ’æŸ¥ä¸éªŒè¯ï¼‰ <a class="header-anchor" href="#ğŸ§ -ubuntu-ä¸‹é€šè¿‡-deb-å®‰è£…-tensorrt-8-6-1-çš„å®Œæ•´æŒ‡å—-å«é—®é¢˜æ’æŸ¥ä¸éªŒè¯" aria-label="Permalink to â€œğŸ§  Ubuntu ä¸‹é€šè¿‡ deb å®‰è£… TensorRT 8.6.1 çš„å®Œæ•´æŒ‡å—ï¼ˆå«é—®é¢˜æ’æŸ¥ä¸éªŒè¯ï¼‰â€">â€‹</a></h1><blockquote><p><strong>é€‚ç”¨ç¯å¢ƒ</strong>ï¼šUbuntu 22.04 + CUDA 11.8 + æ‰‹åŠ¨å®‰è£… cuDNN + APT å®‰è£… TensorRT <strong>ç›®æ ‡</strong>ï¼šæˆåŠŸå®‰è£…å¹¶éªŒè¯ TensorRTï¼Œè§£å†³å¸¸è§ä¾èµ–ä¸è·¯å¾„é—®é¢˜</p></blockquote><hr><h2 id="ä¸€ã€èƒŒæ™¯" tabindex="-1">ä¸€ã€èƒŒæ™¯ <a class="header-anchor" href="#ä¸€ã€èƒŒæ™¯" aria-label="Permalink to â€œä¸€ã€èƒŒæ™¯â€">â€‹</a></h2><p>TensorRT æ˜¯ NVIDIA æä¾›çš„é«˜æ€§èƒ½æ¨ç†å¼•æ“ï¼Œå¹¿æ³›ç”¨äºéƒ¨ç½²æ·±åº¦å­¦ä¹ æ¨¡å‹ã€‚å®˜æ–¹æä¾› <code>.deb</code> åŒ…å®‰è£…æ–¹å¼ï¼Œä½†åœ¨å®é™…ä½¿ç”¨ä¸­å¸¸å›  <strong>cuDNN ç‰ˆæœ¬ä¸åŒ¹é…</strong> æˆ– <strong>è·¯å¾„é…ç½®é—®é¢˜</strong> å¯¼è‡´å®‰è£…å¤±è´¥æˆ–è¿è¡Œå¼‚å¸¸ã€‚</p><p>æœ¬æ–‡è®°å½•äº†ä»å®‰è£…åˆ°éªŒè¯çš„å®Œæ•´è¿‡ç¨‹ï¼Œé‡ç‚¹è§£å†³ä»¥ä¸‹å…¸å‹é—®é¢˜ï¼š</p><ul><li>APT å®‰è£… TensorRT æ—¶å›  cuDNN ä¾èµ–å¤±è´¥</li><li><code>ldconfig</code> æŠ¥ â€œnot a symbolic linkâ€ è­¦å‘Š</li><li><code>trtexec</code> å‘½ä»¤æ‰¾ä¸åˆ°</li><li>å¦‚ä½•éªŒè¯ TensorRT æ˜¯å¦çœŸæ­£å¯ç”¨</li></ul><hr><h2 id="äºŒã€å®‰è£…æµç¨‹ç®€è¿°" tabindex="-1">äºŒã€å®‰è£…æµç¨‹ç®€è¿° <a class="header-anchor" href="#äºŒã€å®‰è£…æµç¨‹ç®€è¿°" aria-label="Permalink to â€œäºŒã€å®‰è£…æµç¨‹ç®€è¿°â€">â€‹</a></h2><h3 id="_1-å®‰è£…-cuda-11-8" tabindex="-1">1. å®‰è£… CUDA 11.8 <a class="header-anchor" href="#_1-å®‰è£…-cuda-11-8" aria-label="Permalink to â€œ1. å®‰è£… CUDA 11.8â€">â€‹</a></h3><p>é€šè¿‡å®˜æ–¹ <code>.run</code> æ–‡ä»¶æˆ– <code>.deb</code> åŒ…å®‰è£…ï¼š</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cuda-toolkit-11-8</span></span></code></pre></div><h3 id="_2-æ‰‹åŠ¨å®‰è£…-cudnn-å¦‚-8-9-7" tabindex="-1">2. æ‰‹åŠ¨å®‰è£… cuDNNï¼ˆå¦‚ 8.9.7ï¼‰ <a class="header-anchor" href="#_2-æ‰‹åŠ¨å®‰è£…-cudnn-å¦‚-8-9-7" aria-label="Permalink to â€œ2. æ‰‹åŠ¨å®‰è£… cuDNNï¼ˆå¦‚ 8.9.7ï¼‰â€">â€‹</a></h3><p>ä» NVIDIA å®˜ç½‘ä¸‹è½½ cuDNN for CUDA 11.8ï¼Œè§£å‹åå¤åˆ¶åˆ° CUDA ç›®å½•ï¼š</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -P</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libcudnn</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.so</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/cuda-11.8/targets/x86_64-linux/lib/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a+r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/cuda-11.8/targets/x86_64-linux/lib/libcudnn</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span></span></code></pre></div><blockquote><p>âš ï¸ æ­¤æ—¶ <code>libcudnn.so.8</code> æ˜¯æ™®é€šæ–‡ä»¶ï¼Œéç¬¦å·é“¾æ¥ â†’ åç»­ä¼šå¼•å‘ <code>ldconfig</code> è­¦å‘Šã€‚</p></blockquote><h3 id="_3-å®‰è£…-tensorrt-é€šè¿‡å®˜æ–¹-deb-åŒ…" tabindex="-1">3. å®‰è£… TensorRTï¼ˆé€šè¿‡å®˜æ–¹ deb åŒ…ï¼‰ <a class="header-anchor" href="#_3-å®‰è£…-tensorrt-é€šè¿‡å®˜æ–¹-deb-åŒ…" aria-label="Permalink to â€œ3. å®‰è£… TensorRTï¼ˆé€šè¿‡å®˜æ–¹ deb åŒ…ï¼‰â€">â€‹</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ·»åŠ æœ¬åœ°ä»“åº“ï¼ˆä»¥ 8.6.1 + CUDA 11.8 ä¸ºä¾‹ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dpkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nv-tensorrt-local-repo-ubuntu2204-8.6.1-cuda-11.8_1.0-1_amd64.deb</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/nv-tensorrt-local-repo-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/7fa2af80.pub</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/share/keyrings/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tensorrt</span></span></code></pre></div><hr><h2 id="ä¸‰ã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ" tabindex="-1">ä¸‰ã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ <a class="header-anchor" href="#ä¸‰ã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ" aria-label="Permalink to â€œä¸‰ã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆâ€">â€‹</a></h2><h3 id="âŒ-é—®é¢˜-1-apt-å®‰è£…å¤±è´¥-æç¤ºç¼ºå°‘-libcudnn8" tabindex="-1">âŒ é—®é¢˜ 1ï¼šAPT å®‰è£…å¤±è´¥ï¼Œæç¤ºç¼ºå°‘ <code>libcudnn8</code> <a class="header-anchor" href="#âŒ-é—®é¢˜-1-apt-å®‰è£…å¤±è´¥-æç¤ºç¼ºå°‘-libcudnn8" aria-label="Permalink to â€œâŒ é—®é¢˜ 1ï¼šAPT å®‰è£…å¤±è´¥ï¼Œæç¤ºç¼ºå°‘ libcudnn8â€">â€‹</a></h3><p><strong>åŸå› </strong>ï¼šAPT æ— æ³•è¯†åˆ«æ‰‹åŠ¨å®‰è£…çš„ cuDNNã€‚</p><p><strong>âœ… è§£å†³æ–¹æ¡ˆï¼šåˆ›å»ºè™šæ‹ŸåŒ…æ¬ºéª— APT</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å®‰è£… equivs å·¥å…·</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> equivs</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åˆ›å»ºè™šæ‹ŸåŒ…å®šä¹‰</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libcudnn8</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">EOF</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Section: misc</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Priority: optional</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Standards-Version: 3.9.2</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Package: libcudnn8</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Version: 8.9.7-1+cuda11.8</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Description: Fake libcudnn8 to satisfy APT</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">EOF</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ„å»ºå¹¶å®‰è£…è™šæ‹ŸåŒ…</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">equivs-build</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libcudnn8</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dpkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libcudnn8_8.9.7-1+cuda11.8_all.deb</span></span></code></pre></div><p>ä¹‹åå³å¯æ­£å¸¸ <code>apt install tensorrt</code>ã€‚</p><hr><h3 id="âš ï¸-é—®é¢˜-2-ldconfig-æŠ¥-not-a-symbolic-link-è­¦å‘Š" tabindex="-1">âš ï¸ é—®é¢˜ 2ï¼š<code>ldconfig</code> æŠ¥ â€œnot a symbolic linkâ€ è­¦å‘Š <a class="header-anchor" href="#âš ï¸-é—®é¢˜-2-ldconfig-æŠ¥-not-a-symbolic-link-è­¦å‘Š" aria-label="Permalink to â€œâš ï¸ é—®é¢˜ 2ï¼šldconfig æŠ¥ â€œnot a symbolic linkâ€ è­¦å‘Šâ€">â€‹</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/sbin/ldconfig.real:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/cuda/.../libcudnn.so.8</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> not</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> symbolic</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> link</span></span></code></pre></div><p><strong>åŸå› </strong>ï¼šæ‰‹åŠ¨å¤åˆ¶çš„ <code>libcudnn.so.8</code> æ˜¯æ™®é€šæ–‡ä»¶ï¼Œè€ŒéæŒ‡å‘ <code>libcudnn.so.8.9.7</code> çš„ç¬¦å·é“¾æ¥ã€‚</p><p><strong>âœ… è§£å†³æ–¹æ¡ˆï¼šé‡å»ºç¬¦å·é“¾æ¥</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/cuda/targets/x86_64-linux/lib/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libcudnn</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.so.8</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ln</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -sf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libcudnn.so.8.9.7</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libcudnn.so.8</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ln</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -sf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libcudnn_ops_infer.so.8.9.7</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libcudnn_ops_infer.so.8</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ... å…¶ä»–ç»„ä»¶åŒç†</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ldconfig</span></span></code></pre></div><blockquote><p>ğŸ’¡ æ­¤è­¦å‘Šä¸å½±å“åŠŸèƒ½ï¼Œä½†ä¿®å¤åæ›´è§„èŒƒã€‚</p></blockquote><hr><h3 id="âŒ-é—®é¢˜-3-trtexec-command-not-found" tabindex="-1">âŒ é—®é¢˜ 3ï¼š<code>trtexec: command not found</code> <a class="header-anchor" href="#âŒ-é—®é¢˜-3-trtexec-command-not-found" aria-label="Permalink to â€œâŒ é—®é¢˜ 3ï¼štrtexec: command not foundâ€">â€‹</a></h3><p><strong>åŸå› </strong>ï¼š<code>trtexec</code> ä½äº <code>/usr/src/tensorrt/bin/</code>ï¼Œä½†æœªåŠ å…¥ <code>PATH</code>ã€‚</p><p><strong>âœ… è§£å†³æ–¹æ¡ˆï¼šæ·»åŠ åˆ°ç¯å¢ƒå˜é‡</strong></p><p>ç¼–è¾‘ <code>~/.bashrc</code>ï¼š</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> TENSORRT_ROOT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/usr/src/tensorrt</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$TENSORRT_ROOT/bin:$PATH</span></span></code></pre></div><p>ç„¶åï¼š</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.bashrc</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">trtexec</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --help</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # åº”æ­£å¸¸è¾“å‡ºå¸®åŠ©ä¿¡æ¯</span></span></code></pre></div><hr><h2 id="å››ã€å®Œæ•´éªŒè¯æ­¥éª¤" tabindex="-1">å››ã€å®Œæ•´éªŒè¯æ­¥éª¤ <a class="header-anchor" href="#å››ã€å®Œæ•´éªŒè¯æ­¥éª¤" aria-label="Permalink to â€œå››ã€å®Œæ•´éªŒè¯æ­¥éª¤â€">â€‹</a></h2><h3 id="âœ…-1-æ£€æŸ¥å®‰è£…çŠ¶æ€" tabindex="-1">âœ… 1. æ£€æŸ¥å®‰è£…çŠ¶æ€ <a class="header-anchor" href="#âœ…-1-æ£€æŸ¥å®‰è£…çŠ¶æ€" aria-label="Permalink to â€œâœ… 1. æ£€æŸ¥å®‰è£…çŠ¶æ€â€">â€‹</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dpkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tensorrt</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åº”çœ‹åˆ° tensorrt å’Œ libnvinfer8 ç­‰åŒ…</span></span></code></pre></div><h3 id="âœ…-2-æ£€æŸ¥åŠ¨æ€åº“æ³¨å†Œ" tabindex="-1">âœ… 2. æ£€æŸ¥åŠ¨æ€åº“æ³¨å†Œ <a class="header-anchor" href="#âœ…-2-æ£€æŸ¥åŠ¨æ€åº“æ³¨å†Œ" aria-label="Permalink to â€œâœ… 2. æ£€æŸ¥åŠ¨æ€åº“æ³¨å†Œâ€">â€‹</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ldconfig</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nvinfer</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åº”åˆ—å‡º libnvinfer.so.8 ç­‰</span></span></code></pre></div><h3 id="âœ…-3-ç¼–è¯‘å¹¶è¿è¡Œå®˜æ–¹ç¤ºä¾‹" tabindex="-1">âœ… 3. ç¼–è¯‘å¹¶è¿è¡Œå®˜æ–¹ç¤ºä¾‹ <a class="header-anchor" href="#âœ…-3-ç¼–è¯‘å¹¶è¿è¡Œå®˜æ–¹ç¤ºä¾‹" aria-label="Permalink to â€œâœ… 3. ç¼–è¯‘å¹¶è¿è¡Œå®˜æ–¹ç¤ºä¾‹â€">â€‹</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å¤åˆ¶ç¤ºä¾‹åˆ°ç”¨æˆ·ç›®å½•ï¼ˆé¿å…æƒé™é—®é¢˜ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/src/tensorrt/samples/sampleOnnxMNIST</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/sampleOnnxMNIST</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./sample_onnx_mnist</span></span></code></pre></div><p><strong>æˆåŠŸè¾“å‡ºç¤ºä¾‹</strong>ï¼š</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>[10/12/2025-18:42:17] [I]  Prob 4  0.9911 Class 4: **********</span></span>
<span class="line"><span>...</span></span>
<span class="line"><span>&amp;&amp;&amp;&amp; PASSED TensorRT.sample_onnx_mnist</span></span></code></pre></div><p>âœ… è¡¨ç¤º CUDA + cuDNN + TensorRT å…¨é“¾è·¯æ­£å¸¸ï¼</p><h3 id="âœ…-4-æµ‹è¯•-trtexec" tabindex="-1">âœ… 4. æµ‹è¯• <code>trtexec</code> <a class="header-anchor" href="#âœ…-4-æµ‹è¯•-trtexec" aria-label="Permalink to â€œâœ… 4. æµ‹è¯• trtexecâ€">â€‹</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">trtexec</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --onnx=/path/to/model.onnx</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --verbose</span></span></code></pre></div><p>å¯ç”¨äºå¿«é€Ÿæ„å»º <code>.engine</code> æ¨ç†å¼•æ“ã€‚</p><hr><h2 id="äº”ã€ç¯å¢ƒå˜é‡å»ºè®®-bashrc-é…ç½®" tabindex="-1">äº”ã€ç¯å¢ƒå˜é‡å»ºè®®ï¼ˆ<code>.bashrc</code> é…ç½®ï¼‰ <a class="header-anchor" href="#äº”ã€ç¯å¢ƒå˜é‡å»ºè®®-bashrc-é…ç½®" aria-label="Permalink to â€œäº”ã€ç¯å¢ƒå˜é‡å»ºè®®ï¼ˆ.bashrc é…ç½®ï¼‰â€">â€‹</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># CUDA</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CUDA_HOME</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/usr/local/cuda-11.8</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$CUDA_HOME/bin:$PATH</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> LD_LIBRARY_PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$CUDA_HOME/lib64:$LD_LIBRARY_PATH</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># TensorRT</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> TENSORRT_ROOT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/usr/src/tensorrt</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$TENSORRT_ROOT/bin:$PATH</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># OpenCV / ONNX Runtimeï¼ˆæŒ‰éœ€ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> LD_LIBRARY_PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$LD_LIBRARY_PATH:$HOME/install/opencv4.5.4/lib</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> LD_LIBRARY_PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$LD_LIBRARY_PATH:$HOME/install/onnxruntime-linux-x64-gpu-1.15.1/lib</span></span></code></pre></div><blockquote><p>ğŸ”” æ³¨æ„ï¼šTensorRT åº“å·²å®‰è£…åœ¨ <code>/usr/lib/x86_64-linux-gnu/</code>ï¼Œ<strong>æ— éœ€é¢å¤–æ·»åŠ  <code>LD_LIBRARY_PATH</code></strong>ã€‚</p></blockquote><hr><h2 id="å…­ã€è¿›é˜¶-å¤šç‰ˆæœ¬-opencv-å…±å­˜" tabindex="-1">å…­ã€è¿›é˜¶ï¼šå¤šç‰ˆæœ¬ OpenCV å…±å­˜ <a class="header-anchor" href="#å…­ã€è¿›é˜¶-å¤šç‰ˆæœ¬-opencv-å…±å­˜" aria-label="Permalink to â€œå…­ã€è¿›é˜¶ï¼šå¤šç‰ˆæœ¬ OpenCV å…±å­˜â€">â€‹</a></h2><p>è‹¥éœ€ä¸ºä¸åŒç¨‹åºä½¿ç”¨ä¸åŒ OpenCV ç‰ˆæœ¬ï¼š</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ä¸´æ—¶æŒ‡å®šåº“è·¯å¾„</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LD_LIBRARY_PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/path/to/opencv4.8.0/lib</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ./your_program</span></span></code></pre></div><p>æˆ–ç¼–è¯‘æ—¶è®¾ç½® <code>RPATH</code>ï¼Œæˆ–ä½¿ç”¨ Conda/Docker éš”ç¦»ç¯å¢ƒã€‚</p><hr><h2 id="ä¸ƒã€æ€»ç»“" tabindex="-1">ä¸ƒã€æ€»ç»“ <a class="header-anchor" href="#ä¸ƒã€æ€»ç»“" aria-label="Permalink to â€œä¸ƒã€æ€»ç»“â€">â€‹</a></h2><table tabindex="0"><thead><tr><th>æ­¥éª¤</th><th>çŠ¶æ€</th></tr></thead><tbody><tr><td>âœ… CUDA 11.8 å®‰è£…</td><td>å®Œæˆ</td></tr><tr><td>âœ… cuDNN 8.9.7 æ‰‹åŠ¨å®‰è£…</td><td>å®Œæˆ</td></tr><tr><td>âœ… TensorRT 8.6.1 é€šè¿‡ deb å®‰è£…</td><td>æˆåŠŸï¼ˆå€ŸåŠ©è™šæ‹ŸåŒ…ï¼‰</td></tr><tr><td>âœ…<code>ldconfig</code> è­¦å‘Šä¿®å¤</td><td>å·²å¤„ç†</td></tr><tr><td>âœ…<code>trtexec</code> å…¨å±€å¯ç”¨</td><td>å·²é…ç½®</td></tr><tr><td>âœ… å®˜æ–¹ç¤ºä¾‹è¿è¡ŒæˆåŠŸ</td><td>âœ… éªŒè¯é€šè¿‡</td></tr></tbody></table><hr><h2 id="ğŸ“š-å‚è€ƒèµ„æ–™" tabindex="-1">ğŸ“š å‚è€ƒèµ„æ–™ <a class="header-anchor" href="#ğŸ“š-å‚è€ƒèµ„æ–™" aria-label="Permalink to â€œğŸ“š å‚è€ƒèµ„æ–™â€">â€‹</a></h2><ul><li><a href="https://docs.nvidia.com/deeplearning/tensorrt/" target="_blank" rel="noreferrer">NVIDIA TensorRT å®˜æ–¹æ–‡æ¡£</a></li><li><a href="https://docs.nvidia.com/deeplearning/cudnn/install-guide/" target="_blank" rel="noreferrer">cuDNN å®‰è£…æŒ‡å—</a></li><li><code>man ldconfig</code>, <code>man ld.so</code></li></ul>`,69)])])}const g=i(t,[["render",e]]);export{c as __pageData,g as default};
