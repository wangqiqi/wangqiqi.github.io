import{_ as i,c as a,o as n,ag as e}from"./chunks/framework.B-XtCDNB.js";const k=JSON.parse('{"title":"ğŸ“š å¦‚ä½•å®ç° OpenVPN å¼€æœºè‡ªåŠ¨è¿æ¥ï¼ˆæ— æ„Ÿç™»å½•ï¼Œå…å¯†ç è¾“å…¥ï¼‰","description":"","frontmatter":{},"headers":[],"relativePath":"posts/è¿ç»´/openvpn.md","filePath":"posts/è¿ç»´/openvpn.md","lastUpdated":1759744117000}'),t={name:"posts/è¿ç»´/openvpn.md"};function p(l,s,h,o,d,c){return n(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="ğŸ“š-å¦‚ä½•å®ç°-openvpn-å¼€æœºè‡ªåŠ¨è¿æ¥-æ— æ„Ÿç™»å½•-å…å¯†ç è¾“å…¥" tabindex="-1">ğŸ“š å¦‚ä½•å®ç° OpenVPN å¼€æœºè‡ªåŠ¨è¿æ¥ï¼ˆæ— æ„Ÿç™»å½•ï¼Œå…å¯†ç è¾“å…¥ï¼‰ <a class="header-anchor" href="#ğŸ“š-å¦‚ä½•å®ç°-openvpn-å¼€æœºè‡ªåŠ¨è¿æ¥-æ— æ„Ÿç™»å½•-å…å¯†ç è¾“å…¥" aria-label="Permalink to &quot;ğŸ“š å¦‚ä½•å®ç° OpenVPN å¼€æœºè‡ªåŠ¨è¿æ¥ï¼ˆæ— æ„Ÿç™»å½•ï¼Œå…å¯†ç è¾“å…¥ï¼‰&quot;">â€‹</a></h1><blockquote><p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šLinux ç³»ç»Ÿä¸‹ä½¿ç”¨ OpenVPN å®¢æˆ·ç«¯ï¼Œå¸Œæœ›åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨è¿æ¥ï¼Œæ— éœ€æ‰‹åŠ¨è¾“å…¥ç”¨æˆ·å/å¯†ç ã€‚</p></blockquote><p>åœ¨å¼€å‘æˆ–è¿ç»´å·¥ä½œä¸­ï¼Œæˆ‘ä»¬å¸¸éœ€é€šè¿‡ OpenVPN æ¥å…¥ä¼ä¸šå†…ç½‘æˆ–è¿œç¨‹èµ„æºã€‚ä½†æ¯æ¬¡é‡å¯ç³»ç»Ÿåæ‰‹åŠ¨æ‰§è¡Œå‘½ä»¤ã€è¾“å…¥è´¦å·å¯†ç ï¼Œä¸ä»…ç¹çï¼Œä¹Ÿè¿èƒŒäº†è‡ªåŠ¨åŒ–åŸåˆ™ã€‚</p><p>æœ¬æ–‡å°†å¸¦ä½ ä¸€æ­¥æ­¥å®ç° OpenVPN çš„<strong>å¼€æœºè‡ªå¯ + æ— æ„Ÿç™»å½•</strong>ï¼Œç¡®ä¿ç³»ç»Ÿå¯åŠ¨åè‡ªåŠ¨å»ºç«‹å®‰å…¨éš§é“ï¼Œæ— éœ€äººå·¥å¹²é¢„ã€‚</p><hr><h2 id="ğŸ”§-éœ€æ±‚ç›®æ ‡" tabindex="-1">ğŸ”§ éœ€æ±‚ç›®æ ‡ <a class="header-anchor" href="#ğŸ”§-éœ€æ±‚ç›®æ ‡" aria-label="Permalink to &quot;ğŸ”§ éœ€æ±‚ç›®æ ‡&quot;">â€‹</a></h2><ul><li>âœ… ä½¿ç”¨ <code>.ovpn</code> é…ç½®æ–‡ä»¶è¿æ¥ OpenVPN æœåŠ¡</li><li>âœ… å¼€æœºè‡ªåŠ¨è¿æ¥ï¼Œæ— éœ€æ‰‹åŠ¨æ‰§è¡Œå‘½ä»¤</li><li>âœ… è‡ªåŠ¨è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œæ— éœ€äº¤äº’</li><li>âœ… ä¸ä¿®æ”¹ç³»ç»Ÿæ ¸å¿ƒç»„ä»¶ï¼Œå®‰å…¨å¯æ§</li><li>âœ… é€‚ç”¨äº Ubuntuã€Debianã€CentOS ç­‰ä¸»æµ Linux å‘è¡Œç‰ˆ</li></ul><hr><h2 id="âš ï¸-å‰ç½®æ¡ä»¶" tabindex="-1">âš ï¸ å‰ç½®æ¡ä»¶ <a class="header-anchor" href="#âš ï¸-å‰ç½®æ¡ä»¶" aria-label="Permalink to &quot;âš ï¸ å‰ç½®æ¡ä»¶&quot;">â€‹</a></h2><ul><li>å·²å®‰è£… OpenVPNï¼š<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openvpn</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # Ubuntu/Debian</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openvpn</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # CentOS/RHEL</span></span></code></pre></div></li><li>å·²è·å– <code>.ovpn</code> é…ç½®æ–‡ä»¶ï¼ˆå¦‚ <code>client.ovpn</code>ï¼‰</li><li>å…·å¤‡ <code>sudo</code> æƒé™</li></ul><hr><h2 id="âœ…-æ­¥éª¤-1-å°†-ovpn-æ–‡ä»¶å¤åˆ¶åˆ°-openvpn-é…ç½®ç›®å½•" tabindex="-1">âœ… æ­¥éª¤ 1ï¼šå°† <code>.ovpn</code> æ–‡ä»¶å¤åˆ¶åˆ° OpenVPN é…ç½®ç›®å½• <a class="header-anchor" href="#âœ…-æ­¥éª¤-1-å°†-ovpn-æ–‡ä»¶å¤åˆ¶åˆ°-openvpn-é…ç½®ç›®å½•" aria-label="Permalink to &quot;âœ… æ­¥éª¤ 1ï¼šå°† \`.ovpn\` æ–‡ä»¶å¤åˆ¶åˆ° OpenVPN é…ç½®ç›®å½•&quot;">â€‹</a></h2><p>OpenVPN çš„ systemd æœåŠ¡é»˜è®¤åªä» <code>/etc/openvpn/</code> ç›®å½•åŠ è½½é…ç½®ï¼Œä¸”<strong>å¿…é¡»ä½¿ç”¨ <code>.conf</code> æ‰©å±•å</strong>ã€‚</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å°†ä½ çš„ .ovpn æ–‡ä»¶å¤åˆ¶åˆ° /etc/openvpn/ å¹¶é‡å‘½åä¸º .conf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/Downloads/your-client-config.ovpn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/openvpn/client.conf</span></span></code></pre></div><blockquote><p>ğŸ”” æ³¨æ„ï¼š<code>your-client-config.ovpn</code> æ˜¯ä½ å®é™…çš„é…ç½®æ–‡ä»¶åï¼Œè¯·æ›¿æ¢ä¸ºä½ çš„æ–‡ä»¶è·¯å¾„ã€‚</p></blockquote><hr><h2 id="âœ…-æ­¥éª¤-2-åˆ›å»ºå¯†ç æ–‡ä»¶-å®ç°å…äº¤äº’ç™»å½•" tabindex="-1">âœ… æ­¥éª¤ 2ï¼šåˆ›å»ºå¯†ç æ–‡ä»¶ï¼ˆå®ç°å…äº¤äº’ç™»å½•ï¼‰ <a class="header-anchor" href="#âœ…-æ­¥éª¤-2-åˆ›å»ºå¯†ç æ–‡ä»¶-å®ç°å…äº¤äº’ç™»å½•" aria-label="Permalink to &quot;âœ… æ­¥éª¤ 2ï¼šåˆ›å»ºå¯†ç æ–‡ä»¶ï¼ˆå®ç°å…äº¤äº’ç™»å½•ï¼‰&quot;">â€‹</a></h2><p>OpenVPN æ”¯æŒé€šè¿‡æ–‡ä»¶è‡ªåŠ¨æä¾›ç”¨æˆ·åå’Œå¯†ç ï¼Œé¿å…äº¤äº’å¼è¾“å…¥ã€‚</p><h3 id="åˆ›å»ºå¯†ç æ–‡ä»¶" tabindex="-1">åˆ›å»ºå¯†ç æ–‡ä»¶ï¼š <a class="header-anchor" href="#åˆ›å»ºå¯†ç æ–‡ä»¶" aria-label="Permalink to &quot;åˆ›å»ºå¯†ç æ–‡ä»¶ï¼š&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/openvpn/vpn-pass.txt</span></span></code></pre></div><p>æ–‡ä»¶å†…å®¹æ ¼å¼å¦‚ä¸‹ï¼ˆç¬¬ä¸€è¡Œä¸ºç”¨æˆ·åï¼Œç¬¬äºŒè¡Œä¸ºå¯†ç ï¼‰ï¼š</p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>your_vpn_username</span></span>
<span class="line"><span>your_vpn_password</span></span></code></pre></div><h3 id="è®¾ç½®å®‰å…¨æƒé™" tabindex="-1">è®¾ç½®å®‰å…¨æƒé™ï¼š <a class="header-anchor" href="#è®¾ç½®å®‰å…¨æƒé™" aria-label="Permalink to &quot;è®¾ç½®å®‰å…¨æƒé™ï¼š&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 600</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/openvpn/vpn-pass.txt</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> chown</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root:root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/openvpn/vpn-pass.txt</span></span></code></pre></div><blockquote><p>ğŸ”’ æƒé™å¿…é¡»ä¸º <code>600</code>ï¼Œå¦åˆ™ OpenVPN ä¼šæ‹’ç»è¯»å–ï¼ˆå‡ºäºå®‰å…¨è€ƒè™‘ï¼‰ã€‚</p></blockquote><hr><h2 id="âœ…-æ­¥éª¤-3-ä¿®æ”¹é…ç½®æ–‡ä»¶-å¯ç”¨è‡ªåŠ¨è®¤è¯" tabindex="-1">âœ… æ­¥éª¤ 3ï¼šä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå¯ç”¨è‡ªåŠ¨è®¤è¯ <a class="header-anchor" href="#âœ…-æ­¥éª¤-3-ä¿®æ”¹é…ç½®æ–‡ä»¶-å¯ç”¨è‡ªåŠ¨è®¤è¯" aria-label="Permalink to &quot;âœ… æ­¥éª¤ 3ï¼šä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå¯ç”¨è‡ªåŠ¨è®¤è¯&quot;">â€‹</a></h2><p>ç¼–è¾‘ <code>.conf</code> æ–‡ä»¶ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/openvpn/client.conf</span></span></code></pre></div><p>åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ä¸€è¡Œï¼š</p><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">auth-user-pass /etc/openvpn/vpn-pass.txt</span></span></code></pre></div><blockquote><p>ğŸ’¡ å¦‚æœåŸæ–‡ä»¶ä¸­å·²æœ‰ <code>auth-user-pass</code> æŒ‡ä»¤ï¼ˆæ— å‚æ•°æˆ–å‚æ•°ä¸å®Œæ•´ï¼‰ï¼Œè¯·å…ˆåˆ é™¤æˆ–æ³¨é‡Šæ‰ã€‚</p></blockquote><hr><h2 id="âœ…-æ­¥éª¤-4-å¤„ç†å¯èƒ½çš„è·¯å¾„é—®é¢˜-å¯é€‰ä½†æ¨è" tabindex="-1">âœ… æ­¥éª¤ 4ï¼šå¤„ç†å¯èƒ½çš„è·¯å¾„é—®é¢˜ï¼ˆå¯é€‰ä½†æ¨èï¼‰ <a class="header-anchor" href="#âœ…-æ­¥éª¤-4-å¤„ç†å¯èƒ½çš„è·¯å¾„é—®é¢˜-å¯é€‰ä½†æ¨è" aria-label="Permalink to &quot;âœ… æ­¥éª¤ 4ï¼šå¤„ç†å¯èƒ½çš„è·¯å¾„é—®é¢˜ï¼ˆå¯é€‰ä½†æ¨èï¼‰&quot;">â€‹</a></h2><p>å¦‚æœ <code>.ovpn</code> æ–‡ä»¶ä¸­å¼•ç”¨äº†å¤–éƒ¨è¯ä¹¦æˆ–å¯†é’¥ï¼ˆå¦‚ <code>ca ca.crt</code>ï¼‰ï¼Œè¯·ç¡®ä¿è¿™äº›æ–‡ä»¶ä¹Ÿæ”¾åœ¨ <code>/etc/openvpn/</code> ç›®å½•ä¸‹ï¼Œæˆ–ä½¿ç”¨<strong>ç»å¯¹è·¯å¾„</strong>ï¼š</p><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ca /etc/openvpn/ca.crt</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cert /etc/openvpn/client.crt</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">key /etc/openvpn/client.key</span></span></code></pre></div><p>å¹¶å°†ç›¸å…³æ–‡ä»¶å¤åˆ¶åˆ°è¯¥ç›®å½•ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ca.crt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> client.crt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> client.key</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/openvpn/</span></span></code></pre></div><hr><h2 id="âœ…-æ­¥éª¤-5-å¯ç”¨å¹¶å¯åŠ¨-openvpn-æœåŠ¡" tabindex="-1">âœ… æ­¥éª¤ 5ï¼šå¯ç”¨å¹¶å¯åŠ¨ OpenVPN æœåŠ¡ <a class="header-anchor" href="#âœ…-æ­¥éª¤-5-å¯ç”¨å¹¶å¯åŠ¨-openvpn-æœåŠ¡" aria-label="Permalink to &quot;âœ… æ­¥éª¤ 5ï¼šå¯ç”¨å¹¶å¯åŠ¨ OpenVPN æœåŠ¡&quot;">â€‹</a></h2><p>systemd æä¾›äº† OpenVPN çš„æ¨¡æ¿æœåŠ¡ <code>openvpn@.service</code>ï¼Œæˆ‘ä»¬é€šè¿‡ <code>@</code> åæ¥é…ç½®æ–‡ä»¶åï¼ˆä¸å« <code>.conf</code>ï¼‰æ¥å¯åŠ¨ã€‚</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å¯ç”¨å¼€æœºè‡ªå¯</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openvpn@client.service</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å¯åŠ¨æœåŠ¡</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openvpn@client.service</span></span></code></pre></div><blockquote><p>ğŸ” æœåŠ¡åè§„åˆ™ï¼š<code>openvpn@&lt;é…ç½®æ–‡ä»¶å&gt;.service</code> â†’ å¯¹åº” <code>/etc/openvpn/&lt;é…ç½®æ–‡ä»¶å&gt;.conf</code></p></blockquote><hr><h2 id="ğŸ”-æ’æŸ¥å¸¸è§é”™è¯¯" tabindex="-1">ğŸ” æ’æŸ¥å¸¸è§é”™è¯¯ <a class="header-anchor" href="#ğŸ”-æ’æŸ¥å¸¸è§é”™è¯¯" aria-label="Permalink to &quot;ğŸ” æ’æŸ¥å¸¸è§é”™è¯¯&quot;">â€‹</a></h2><h3 id="âŒ-é”™è¯¯-error-opening-configuration-file-etc-openvpn-client-conf" tabindex="-1">âŒ é”™è¯¯ï¼š<code>Error opening configuration file: /etc/openvpn/client.conf</code> <a class="header-anchor" href="#âŒ-é”™è¯¯-error-opening-configuration-file-etc-openvpn-client-conf" aria-label="Permalink to &quot;âŒ é”™è¯¯ï¼š\`Error opening configuration file: /etc/openvpn/client.conf\`&quot;">â€‹</a></h3><p><strong>åŸå› </strong>ï¼šæ–‡ä»¶ä¸å­˜åœ¨æˆ–æ‰©å±•åä¸æ˜¯ <code>.conf</code>ã€‚</p><p><strong>è§£å†³</strong>ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ç¡®è®¤æ–‡ä»¶å­˜åœ¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ls</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/openvpn/client.conf</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å¦‚æœæ˜¯ .ovpnï¼Œé‡å‘½å</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/openvpn/client.ovpn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/openvpn/client.conf</span></span></code></pre></div><h3 id="âŒ-é”™è¯¯-options-error-auth-user-pass-requires-a-file" tabindex="-1">âŒ é”™è¯¯ï¼š<code>Options error: auth-user-pass requires a file</code> <a class="header-anchor" href="#âŒ-é”™è¯¯-options-error-auth-user-pass-requires-a-file" aria-label="Permalink to &quot;âŒ é”™è¯¯ï¼š\`Options error: auth-user-pass requires a file\`&quot;">â€‹</a></h3><p><strong>åŸå› </strong>ï¼š<code>auth-user-pass</code> æœªæŒ‡å®šæ–‡ä»¶è·¯å¾„ã€‚</p><p><strong>è§£å†³</strong>ï¼šç¡®ä¿é…ç½®ä¸­ä¸º <code>auth-user-pass /etc/openvpn/vpn-pass.txt</code>ï¼ˆå¸¦å®Œæ•´è·¯å¾„ï¼‰ã€‚</p><h3 id="âŒ-é”™è¯¯-permission-denied-æˆ–-cannot-open-key-file" tabindex="-1">âŒ é”™è¯¯ï¼š<code>Permission denied</code> æˆ– <code>cannot open key file</code> <a class="header-anchor" href="#âŒ-é”™è¯¯-permission-denied-æˆ–-cannot-open-key-file" aria-label="Permalink to &quot;âŒ é”™è¯¯ï¼š\`Permission denied\` æˆ– \`cannot open key file\`&quot;">â€‹</a></h3><p><strong>åŸå› </strong>ï¼šæ–‡ä»¶æƒé™ä¸æ­£ç¡®ã€‚</p><p><strong>è§£å†³</strong>ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 600</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/openvpn/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.conf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/openvpn/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.key</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> chown</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root:root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/openvpn/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span></span></code></pre></div><hr><h2 id="âœ…-éªŒè¯è¿æ¥çŠ¶æ€" tabindex="-1">âœ… éªŒè¯è¿æ¥çŠ¶æ€ <a class="header-anchor" href="#âœ…-éªŒè¯è¿æ¥çŠ¶æ€" aria-label="Permalink to &quot;âœ… éªŒè¯è¿æ¥çŠ¶æ€&quot;">â€‹</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æŸ¥çœ‹æœåŠ¡çŠ¶æ€</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openvpn@client.service</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æŸ¥çœ‹æ—¥å¿—ï¼ˆå…³é”®ï¼ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> journalctl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openvpn@client.service</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ£€æŸ¥è™šæ‹Ÿç½‘å¡</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> show</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tun0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æµ‹è¯•å†…ç½‘è¿é€šæ€§</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ping</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 192.168.x.x</span></span></code></pre></div><p>å¦‚æœçœ‹åˆ° <code>active (running)</code> å’Œ <code>Initialization Sequence Completed</code>ï¼Œè¯´æ˜è¿æ¥æˆåŠŸï¼</p><hr><h2 id="ğŸ›¡ï¸-å®‰å…¨å»ºè®®" tabindex="-1">ğŸ›¡ï¸ å®‰å…¨å»ºè®® <a class="header-anchor" href="#ğŸ›¡ï¸-å®‰å…¨å»ºè®®" aria-label="Permalink to &quot;ğŸ›¡ï¸ å®‰å…¨å»ºè®®&quot;">â€‹</a></h2><ol><li><strong>æœ€å°æƒé™åŸåˆ™</strong>ï¼šä»… root å¯è¯»å–å¯†ç æ–‡ä»¶ã€‚</li><li><strong>é¿å…æ˜æ–‡å¯†ç </strong>ï¼šè‹¥å…¬å¸ç­–ç•¥ç¦æ­¢æ˜æ–‡å­˜å‚¨å¯†ç ï¼Œåº”ä½¿ç”¨è¯ä¹¦è®¤è¯æˆ–ä¸ç®¡ç†å‘˜åå•†å…¶ä»–æ–¹æ¡ˆã€‚</li><li><strong>å®šæœŸè½®æ¢å‡­æ®</strong>ï¼šå®šæœŸæ›´æ–°ç”¨æˆ·å/å¯†ç ï¼Œå¹¶åŒæ­¥æ›´æ–° <code>vpn-pass.txt</code>ã€‚</li><li><strong>å®¡è®¡æ—¥å¿—</strong>ï¼šé€šè¿‡ <code>journalctl</code> ç›‘æ§è¿æ¥çŠ¶æ€ï¼ŒåŠæ—¶å‘ç°å¼‚å¸¸ã€‚</li></ol><hr><h2 id="ğŸ§©-å¯é€‰ä¼˜åŒ–-ä½¿ç”¨è„šæœ¬è‡ªåŠ¨æ›´æ–°å‡­æ®" tabindex="-1">ğŸ§© å¯é€‰ä¼˜åŒ–ï¼šä½¿ç”¨è„šæœ¬è‡ªåŠ¨æ›´æ–°å‡­æ® <a class="header-anchor" href="#ğŸ§©-å¯é€‰ä¼˜åŒ–-ä½¿ç”¨è„šæœ¬è‡ªåŠ¨æ›´æ–°å‡­æ®" aria-label="Permalink to &quot;ğŸ§© å¯é€‰ä¼˜åŒ–ï¼šä½¿ç”¨è„šæœ¬è‡ªåŠ¨æ›´æ–°å‡­æ®&quot;">â€‹</a></h2><p>å¦‚æœä½ çš„å¯†ç ä¼šå®šæœŸå˜æ›´ï¼Œå¯ç¼–å†™è„šæœ¬è‡ªåŠ¨æ›´æ–° <code>vpn-pass.txt</code> å¹¶é‡å¯æœåŠ¡ã€‚</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># update-vpn-pass.sh</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;new_username\\nnew_password&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tee</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/openvpn/vpn-pass.txt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/null</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 600</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/openvpn/vpn-pass.txt</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openvpn@client.service</span></span></code></pre></div><hr><h2 id="âœ…-æ€»ç»“" tabindex="-1">âœ… æ€»ç»“ <a class="header-anchor" href="#âœ…-æ€»ç»“" aria-label="Permalink to &quot;âœ… æ€»ç»“&quot;">â€‹</a></h2><table tabindex="0"><thead><tr><th>æ­¥éª¤</th><th>å…³é”®ç‚¹</th></tr></thead><tbody><tr><td>1. æ–‡ä»¶é‡å‘½å</td><td><code>.ovpn</code> â†’ <code>.conf</code>ï¼Œæ”¾å…¥ <code>/etc/openvpn/</code></td></tr><tr><td>2. åˆ›å»ºå¯†ç æ–‡ä»¶</td><td><code>vpn-pass.txt</code>ï¼Œæƒé™ <code>600</code></td></tr><tr><td>3. ä¿®æ”¹é…ç½®</td><td><code>auth-user-pass /etc/openvpn/vpn-pass.txt</code></td></tr><tr><td>4. å¯ç”¨æœåŠ¡</td><td><code>systemctl enable/start openvpn@client</code></td></tr></tbody></table><p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œä½ å·²æˆåŠŸå®ç° OpenVPN çš„<strong>æ— æ„Ÿè‡ªåŠ¨è¿æ¥</strong>ï¼Œæå‡å·¥ä½œæ•ˆç‡ï¼Œå‘Šåˆ«é‡å¤æ“ä½œã€‚</p><hr><h2 id="ğŸ“š-å‚è€ƒèµ„æ–™" tabindex="-1">ğŸ“š å‚è€ƒèµ„æ–™ <a class="header-anchor" href="#ğŸ“š-å‚è€ƒèµ„æ–™" aria-label="Permalink to &quot;ğŸ“š å‚è€ƒèµ„æ–™&quot;">â€‹</a></h2><ul><li><code>man openvpn</code></li><li><code>systemctl status openvpn@.service</code></li><li>OpenVPN å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://openvpn.net/community-resources/" target="_blank" rel="noreferrer">https://openvpn.net/community-resources/</a></li></ul>`,74)])])}const g=i(t,[["render",p]]);export{k as __pageData,g as default};
