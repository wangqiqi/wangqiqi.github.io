import{_ as i,c as a,o as n,ag as e}from"./chunks/framework.B-XtCDNB.js";const k=JSON.parse('{"title":"📚 如何实现 OpenVPN 开机自动连接（无感登录，免密码输入）","description":"","frontmatter":{},"headers":[],"relativePath":"posts/运维/openvpn.md","filePath":"posts/运维/openvpn.md","lastUpdated":1759744117000}'),t={name:"posts/运维/openvpn.md"};function p(l,s,h,o,d,c){return n(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="📚-如何实现-openvpn-开机自动连接-无感登录-免密码输入" tabindex="-1">📚 如何实现 OpenVPN 开机自动连接（无感登录，免密码输入） <a class="header-anchor" href="#📚-如何实现-openvpn-开机自动连接-无感登录-免密码输入" aria-label="Permalink to &quot;📚 如何实现 OpenVPN 开机自动连接（无感登录，免密码输入）&quot;">​</a></h1><blockquote><p><strong>适用场景</strong>：Linux 系统下使用 OpenVPN 客户端，希望在系统启动时自动连接，无需手动输入用户名/密码。</p></blockquote><p>在开发或运维工作中，我们常需通过 OpenVPN 接入企业内网或远程资源。但每次重启系统后手动执行命令、输入账号密码，不仅繁琐，也违背了自动化原则。</p><p>本文将带你一步步实现 OpenVPN 的<strong>开机自启 + 无感登录</strong>，确保系统启动后自动建立安全隧道，无需人工干预。</p><hr><h2 id="🔧-需求目标" tabindex="-1">🔧 需求目标 <a class="header-anchor" href="#🔧-需求目标" aria-label="Permalink to &quot;🔧 需求目标&quot;">​</a></h2><ul><li>✅ 使用 <code>.ovpn</code> 配置文件连接 OpenVPN 服务</li><li>✅ 开机自动连接，无需手动执行命令</li><li>✅ 自动输入用户名和密码，无需交互</li><li>✅ 不修改系统核心组件，安全可控</li><li>✅ 适用于 Ubuntu、Debian、CentOS 等主流 Linux 发行版</li></ul><hr><h2 id="⚠️-前置条件" tabindex="-1">⚠️ 前置条件 <a class="header-anchor" href="#⚠️-前置条件" aria-label="Permalink to &quot;⚠️ 前置条件&quot;">​</a></h2><ul><li>已安装 OpenVPN：<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openvpn</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # Ubuntu/Debian</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openvpn</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # CentOS/RHEL</span></span></code></pre></div></li><li>已获取 <code>.ovpn</code> 配置文件（如 <code>client.ovpn</code>）</li><li>具备 <code>sudo</code> 权限</li></ul><hr><h2 id="✅-步骤-1-将-ovpn-文件复制到-openvpn-配置目录" tabindex="-1">✅ 步骤 1：将 <code>.ovpn</code> 文件复制到 OpenVPN 配置目录 <a class="header-anchor" href="#✅-步骤-1-将-ovpn-文件复制到-openvpn-配置目录" aria-label="Permalink to &quot;✅ 步骤 1：将 \`.ovpn\` 文件复制到 OpenVPN 配置目录&quot;">​</a></h2><p>OpenVPN 的 systemd 服务默认只从 <code>/etc/openvpn/</code> 目录加载配置，且<strong>必须使用 <code>.conf</code> 扩展名</strong>。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 将你的 .ovpn 文件复制到 /etc/openvpn/ 并重命名为 .conf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/Downloads/your-client-config.ovpn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/openvpn/client.conf</span></span></code></pre></div><blockquote><p>🔔 注意：<code>your-client-config.ovpn</code> 是你实际的配置文件名，请替换为你的文件路径。</p></blockquote><hr><h2 id="✅-步骤-2-创建密码文件-实现免交互登录" tabindex="-1">✅ 步骤 2：创建密码文件（实现免交互登录） <a class="header-anchor" href="#✅-步骤-2-创建密码文件-实现免交互登录" aria-label="Permalink to &quot;✅ 步骤 2：创建密码文件（实现免交互登录）&quot;">​</a></h2><p>OpenVPN 支持通过文件自动提供用户名和密码，避免交互式输入。</p><h3 id="创建密码文件" tabindex="-1">创建密码文件： <a class="header-anchor" href="#创建密码文件" aria-label="Permalink to &quot;创建密码文件：&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/openvpn/vpn-pass.txt</span></span></code></pre></div><p>文件内容格式如下（第一行为用户名，第二行为密码）：</p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>your_vpn_username</span></span>
<span class="line"><span>your_vpn_password</span></span></code></pre></div><h3 id="设置安全权限" tabindex="-1">设置安全权限： <a class="header-anchor" href="#设置安全权限" aria-label="Permalink to &quot;设置安全权限：&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 600</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/openvpn/vpn-pass.txt</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> chown</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root:root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/openvpn/vpn-pass.txt</span></span></code></pre></div><blockquote><p>🔒 权限必须为 <code>600</code>，否则 OpenVPN 会拒绝读取（出于安全考虑）。</p></blockquote><hr><h2 id="✅-步骤-3-修改配置文件-启用自动认证" tabindex="-1">✅ 步骤 3：修改配置文件，启用自动认证 <a class="header-anchor" href="#✅-步骤-3-修改配置文件-启用自动认证" aria-label="Permalink to &quot;✅ 步骤 3：修改配置文件，启用自动认证&quot;">​</a></h2><p>编辑 <code>.conf</code> 文件：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/openvpn/client.conf</span></span></code></pre></div><p>在文件末尾添加一行：</p><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">auth-user-pass /etc/openvpn/vpn-pass.txt</span></span></code></pre></div><blockquote><p>💡 如果原文件中已有 <code>auth-user-pass</code> 指令（无参数或参数不完整），请先删除或注释掉。</p></blockquote><hr><h2 id="✅-步骤-4-处理可能的路径问题-可选但推荐" tabindex="-1">✅ 步骤 4：处理可能的路径问题（可选但推荐） <a class="header-anchor" href="#✅-步骤-4-处理可能的路径问题-可选但推荐" aria-label="Permalink to &quot;✅ 步骤 4：处理可能的路径问题（可选但推荐）&quot;">​</a></h2><p>如果 <code>.ovpn</code> 文件中引用了外部证书或密钥（如 <code>ca ca.crt</code>），请确保这些文件也放在 <code>/etc/openvpn/</code> 目录下，或使用<strong>绝对路径</strong>：</p><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ca /etc/openvpn/ca.crt</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cert /etc/openvpn/client.crt</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">key /etc/openvpn/client.key</span></span></code></pre></div><p>并将相关文件复制到该目录：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ca.crt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> client.crt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> client.key</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/openvpn/</span></span></code></pre></div><hr><h2 id="✅-步骤-5-启用并启动-openvpn-服务" tabindex="-1">✅ 步骤 5：启用并启动 OpenVPN 服务 <a class="header-anchor" href="#✅-步骤-5-启用并启动-openvpn-服务" aria-label="Permalink to &quot;✅ 步骤 5：启用并启动 OpenVPN 服务&quot;">​</a></h2><p>systemd 提供了 OpenVPN 的模板服务 <code>openvpn@.service</code>，我们通过 <code>@</code> 后接配置文件名（不含 <code>.conf</code>）来启动。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 启用开机自启</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openvpn@client.service</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 启动服务</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openvpn@client.service</span></span></code></pre></div><blockquote><p>🔍 服务名规则：<code>openvpn@&lt;配置文件名&gt;.service</code> → 对应 <code>/etc/openvpn/&lt;配置文件名&gt;.conf</code></p></blockquote><hr><h2 id="🔍-排查常见错误" tabindex="-1">🔍 排查常见错误 <a class="header-anchor" href="#🔍-排查常见错误" aria-label="Permalink to &quot;🔍 排查常见错误&quot;">​</a></h2><h3 id="❌-错误-error-opening-configuration-file-etc-openvpn-client-conf" tabindex="-1">❌ 错误：<code>Error opening configuration file: /etc/openvpn/client.conf</code> <a class="header-anchor" href="#❌-错误-error-opening-configuration-file-etc-openvpn-client-conf" aria-label="Permalink to &quot;❌ 错误：\`Error opening configuration file: /etc/openvpn/client.conf\`&quot;">​</a></h3><p><strong>原因</strong>：文件不存在或扩展名不是 <code>.conf</code>。</p><p><strong>解决</strong>：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 确认文件存在</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ls</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/openvpn/client.conf</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 如果是 .ovpn，重命名</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/openvpn/client.ovpn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/openvpn/client.conf</span></span></code></pre></div><h3 id="❌-错误-options-error-auth-user-pass-requires-a-file" tabindex="-1">❌ 错误：<code>Options error: auth-user-pass requires a file</code> <a class="header-anchor" href="#❌-错误-options-error-auth-user-pass-requires-a-file" aria-label="Permalink to &quot;❌ 错误：\`Options error: auth-user-pass requires a file\`&quot;">​</a></h3><p><strong>原因</strong>：<code>auth-user-pass</code> 未指定文件路径。</p><p><strong>解决</strong>：确保配置中为 <code>auth-user-pass /etc/openvpn/vpn-pass.txt</code>（带完整路径）。</p><h3 id="❌-错误-permission-denied-或-cannot-open-key-file" tabindex="-1">❌ 错误：<code>Permission denied</code> 或 <code>cannot open key file</code> <a class="header-anchor" href="#❌-错误-permission-denied-或-cannot-open-key-file" aria-label="Permalink to &quot;❌ 错误：\`Permission denied\` 或 \`cannot open key file\`&quot;">​</a></h3><p><strong>原因</strong>：文件权限不正确。</p><p><strong>解决</strong>：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 600</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/openvpn/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.conf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/openvpn/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.key</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> chown</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root:root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/openvpn/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span></span></code></pre></div><hr><h2 id="✅-验证连接状态" tabindex="-1">✅ 验证连接状态 <a class="header-anchor" href="#✅-验证连接状态" aria-label="Permalink to &quot;✅ 验证连接状态&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看服务状态</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openvpn@client.service</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查看日志（关键！）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> journalctl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openvpn@client.service</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 检查虚拟网卡</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> show</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tun0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 测试内网连通性</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ping</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 192.168.x.x</span></span></code></pre></div><p>如果看到 <code>active (running)</code> 和 <code>Initialization Sequence Completed</code>，说明连接成功！</p><hr><h2 id="🛡️-安全建议" tabindex="-1">🛡️ 安全建议 <a class="header-anchor" href="#🛡️-安全建议" aria-label="Permalink to &quot;🛡️ 安全建议&quot;">​</a></h2><ol><li><strong>最小权限原则</strong>：仅 root 可读取密码文件。</li><li><strong>避免明文密码</strong>：若公司策略禁止明文存储密码，应使用证书认证或与管理员协商其他方案。</li><li><strong>定期轮换凭据</strong>：定期更新用户名/密码，并同步更新 <code>vpn-pass.txt</code>。</li><li><strong>审计日志</strong>：通过 <code>journalctl</code> 监控连接状态，及时发现异常。</li></ol><hr><h2 id="🧩-可选优化-使用脚本自动更新凭据" tabindex="-1">🧩 可选优化：使用脚本自动更新凭据 <a class="header-anchor" href="#🧩-可选优化-使用脚本自动更新凭据" aria-label="Permalink to &quot;🧩 可选优化：使用脚本自动更新凭据&quot;">​</a></h2><p>如果你的密码会定期变更，可编写脚本自动更新 <code>vpn-pass.txt</code> 并重启服务。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># update-vpn-pass.sh</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;new_username\\nnew_password&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tee</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/openvpn/vpn-pass.txt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/null</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 600</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/openvpn/vpn-pass.txt</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openvpn@client.service</span></span></code></pre></div><hr><h2 id="✅-总结" tabindex="-1">✅ 总结 <a class="header-anchor" href="#✅-总结" aria-label="Permalink to &quot;✅ 总结&quot;">​</a></h2><table tabindex="0"><thead><tr><th>步骤</th><th>关键点</th></tr></thead><tbody><tr><td>1. 文件重命名</td><td><code>.ovpn</code> → <code>.conf</code>，放入 <code>/etc/openvpn/</code></td></tr><tr><td>2. 创建密码文件</td><td><code>vpn-pass.txt</code>，权限 <code>600</code></td></tr><tr><td>3. 修改配置</td><td><code>auth-user-pass /etc/openvpn/vpn-pass.txt</code></td></tr><tr><td>4. 启用服务</td><td><code>systemctl enable/start openvpn@client</code></td></tr></tbody></table><p>通过以上步骤，你已成功实现 OpenVPN 的<strong>无感自动连接</strong>，提升工作效率，告别重复操作。</p><hr><h2 id="📚-参考资料" tabindex="-1">📚 参考资料 <a class="header-anchor" href="#📚-参考资料" aria-label="Permalink to &quot;📚 参考资料&quot;">​</a></h2><ul><li><code>man openvpn</code></li><li><code>systemctl status openvpn@.service</code></li><li>OpenVPN 官方文档：<a href="https://openvpn.net/community-resources/" target="_blank" rel="noreferrer">https://openvpn.net/community-resources/</a></li></ul>`,74)])])}const g=i(t,[["render",p]]);export{k as __pageData,g as default};
